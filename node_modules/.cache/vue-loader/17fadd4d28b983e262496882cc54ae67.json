{"remainingRequest":"/opt/homebrew/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenyuxiang/Desktop/demo_erpject/tree_my_demo/app.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenyuxiang/Desktop/demo_erpject/tree_my_demo/app.vue","mtime":1650184067145},{"path":"/opt/homebrew/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":1650181504710},{"path":"/opt/homebrew/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":1650181500722},{"path":"/opt/homebrew/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":1650181501030}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0VHJlZUxpc3R9IGZyb20gJy4vYXBpJwogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIGFzeW5jIG1vdW50ZWQoKXsKICAgICAgICAgICAgbGV0IHtkYXRhfSA9IGF3YWl0IGdldFRyZWVMaXN0KCkKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgIC8vMVzmiYHlubPljJbnmoTmlbDmja7lpoLkvZXlj5jmiJAg5aSa5bGC5pWw5o2uIOmAkuW9kuaVsOaNrgogICAgICAgICAgICBsZXQgYWxsRGF0YSA9IFsuLi5kYXRhLnBhcmVudCwuLi5kYXRhLmNoaWxkXTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWxsRGF0YSk7CiAgICAgICAgICAgIC8v5pWw5o2u5pig5bCECiAgICAgICAgICAgIC8ve2lkOjEse25hbWU6ICfmlofku7blpLkxJywgcGlkOiAwLCBpZDogMX19CiAgICAgICAgICAgIGxldCB0cmVlTWFwID0gYWxsRGF0YS5yZWR1Y2UoKG5ld0VsZSxlbGUpPT57CiAgICAgICAgICAgICAgICBuZXdFbGVbZWxlWydpZCddXT1lbGU7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RWxlCiAgICAgICAgICAgIH0sW10pLy9yZWR1Y2XnmoTnu5PmnpzlsLHmmK/kuKrlr7nosaEKICAgICAgICAgICAgY29uc29sZS5sb2codHJlZU1hcCk7CiAgICAgICAgICAgIGxldCB0cmVlRGF0YSA9IHRyZWVNYXAucmVkdWNlKChhcnIsY3VycmVudCk9PnsKICAgICAgICAgICAgICAgIGxldCBwaWQgPSBjdXJyZW50LnBpZDsKICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0cmVlTWFwW3BpZF07CiAgICAgICAgICAgICAgICBpZihwYXJlbnQpewogICAgICAgICAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbj8gcGFyZW50LmNoaWxkcmVuLnB1c2goY3VycmVudCk6cGFyZW50LmNoaWxkcmVuID0gW2N1cnJlbnRdCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihwaWQgPT09IDApewogICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGN1cnJlbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGFycgogICAgICAgICAgICB9LFtdKQogICAgICAgICAgICBjb25zb2xlLmxvZyh0cmVlRGF0YSk7CiAgICAgICAgfQogICAgfQo="},{"version":3,"sources":["app.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.vue","sourceRoot":".","sourcesContent":["<template>\n    <div>\n\n    </div>\n</template>\n\n<script>\nimport {getTreeList} from './api'\n    export default {\n        async mounted(){\n            let {data} = await getTreeList()\n            // console.log(data);\n            //1\\扁平化的数据如何变成 多层数据 递归数据\n            let allData = [...data.parent,...data.child];\n            // console.log(allData);\n            //数据映射\n            //{id:1,{name: '文件夹1', pid: 0, id: 1}}\n            let treeMap = allData.reduce((newEle,ele)=>{\n                newEle[ele['id']]=ele;\n                return newEle\n            },[])//reduce的结果就是个对象\n            console.log(treeMap);\n            let treeData = treeMap.reduce((arr,current)=>{\n                let pid = current.pid;\n                let parent = treeMap[pid];\n                if(parent){\n                    parent.children? parent.children.push(current):parent.children = [current]\n                }else if(pid === 0){\n                    arr.push(current);\n                }\n                return arr\n            },[])\n            console.log(treeData);\n        }\n    }\n</script>\n\n<style  scoped>\n\n</style>"]}]}